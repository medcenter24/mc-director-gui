<!--
  ~ Copyright (c) 2017.
  ~
  ~ @author Alexander Zagovorichev <zagovorichev@gmail.com>
  -->

<div class="widgets">

  <div class="row">
    <div class="col-sm-6">
      <ba-card baCardClass="with-scroll">
        <ng2-smart-table
                *ngIf="settings.columns"
                [settings]="settings"
                [source]="source"
                (deleteConfirm)="onDeleteConfirm($event)"
                (createConfirm)="onTableCreate($event)"
                (editConfirm)="onTableSave($event)"
        ></ng2-smart-table>
      </ba-card>
    </div>
  </div>

</div>

<modal #deleteDialog>
  <modal-header [show-close]="true">
    <h5 class="modal-title" translate>Confirmation</h5>
  </modal-header>
  <modal-body>
    {{ 'Are you sure that you want to delete' | translate }} &laquo;<b>{{ titleForDeletion }}</b>&raquo;?
  </modal-body>
  <modal-footer>
    <button type="button" class="btn btn-default" data-dismiss="modal"
            (click)="onDeleteDialogCancel()" translate>Cancel</button>
    <button type="button" class="btn btn-primary" (click)="onDeleteDialogOk()" [disabled]="deleteProcess" translate>Yes</button>
  </modal-footer>
</modal>

<modal #errorDialog>
  <modal-header [show-close]="true">
    <h4 class="modal-title" translate>Error</h4>
  </modal-header>
  <modal-body>
    <div class="row">
      <div class="col-sm-12">
        {{ errorMessage }}
      </div>
    </div>
    <div class="row" *ngIf="errorResponse">
      <div class="col-sm-12 text-right">
        <code>
          <b>{{ errorResponse.status }}</b>
          {{ errorResponse.statusText }}
        </code>
      </div>
    </div>
  </modal-body>
  <modal-footer>
    <button type="button" class="btn btn-danger" data-dismiss="modal"
            (click)="onDeleteDialogCancel()" translate>Yes</button>
  </modal-footer>
</modal>
