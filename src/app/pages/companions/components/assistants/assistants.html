<!--
  ~ Copyright (c) 2017.
  ~
  ~ @author Alexander Zagovorichev <zagovorichev@gmail.com>
  -->

<div class="widgets">

  <div class="row">
    <div class="col-sm-{{ isAssistant ? '6' : '12' }}">
      <ba-card baCardClass="with-scroll">
        <ng2-smart-table
          *ngIf="settings.columns"
          [settings]="settings"
          [source]="source"
          (userRowSelect)="onUserSelectRow($event)"
          (deleteConfirm)="onDeleteConfirm($event)"
          (createConfirm)="onTableCreate($event)"
          (editConfirm)="onTableSave($event)"
        ></ng2-smart-table>
      </ba-card>
    </div>
    <div class="col-sm-6" [hidden]="!isAssistant">
      <nga-assistant-editor
        [assistant]="currentAssistant"
        (assistantSaved)="onUpdateAssistant($event)"
        (close)="closeAssistantEditor()"
      ></nga-assistant-editor>
    </div>
  </div>

</div>

<modal #deleteDialog>
  <modal-header [show-close]="true">
    <h5 class="modal-title">Confirmation</h5>
  </modal-header>
  <modal-body>
    Are you sure wants to delete &laquo;<b>{{ titleForDeletion }}</b>&raquo;?
  </modal-body>
  <modal-footer>
    <button type="button" class="btn btn-default" data-dismiss="modal"
            (click)="onDeleteDialogCancel()">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="onDeleteDialogOk()" [disabled]="deleteProcess">Ok</button>
  </modal-footer>
</modal>
