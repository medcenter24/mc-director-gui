<!--
  ~ Copyright (c) 2017.
  ~
  ~ @author Alexander Zagovorichev <zagovorichev@gmail.com>
  -->

<div class="widgets">

    <div class="row">
        <div class="col-sm-6">
            <ba-card title="Doctors" baCardClass="with-scroll">
                <ng2-smart-table
                        [settings]="settings"
                        [source]="source"
                        (deleteConfirm)="onDeleteConfirm($event)"
                        (userRowSelect)="onUserSelectRow($event)"
                        (createConfirm)="onTableCreate($event)"
                        (editConfirm)="onTableSave($event)"
                ></ng2-smart-table>
            </ba-card>
        </div>
        <div class="col-sm-6">
            <doctor-editor
                    [hidden]="doctorEditorHidden"
                    [doctorId]="editableDoctorId"
                    (toggleUserEditor)="onToggleUserEditor($event)"
            ></doctor-editor>
            <user-editor
                    [hidden]="userEditorHidden"
                    [userId]="editableUserId"
                    (changedUser)="onUserEdited()"
            ></user-editor>
        </div>
    </div>

</div>

<modal #deleteDialog>
    <modal-header [show-close]="true">
        <h5 class="modal-title">Confirmation</h5>
    </modal-header>
    <modal-body>
        Are you sure wants to delete &laquo;<b>{{ titleForDeletion }}</b>&raquo;?
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-default" data-dismiss="modal"
                (click)="onDeleteDialogCancel()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="onDeleteDialogOk()" [disabled]="deleteProcess">Ok</button>
    </modal-footer>
</modal>

<modal #errorDialog>
    <modal-header [show-close]="true">
        <h4 class="modal-title">Error</h4>
    </modal-header>
    <modal-body>
        {{ errorMessage }}
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-danger" data-dismiss="modal"
                (click)="onDeleteDialogCancel()">Ok</button>
    </modal-footer>
</modal>

